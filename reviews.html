<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mìlàájé - User Reviews</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Bebas+Neue&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <style>
        /* --- Color Variables --- */
        :root {
            --bg-darkest: #121212; /* Very dark background */
            --bg-card: #1a1a1a; /* Slightly lighter for cards */
            --text-light: #e0e0e0;
            --text-muted: #888888; /* Darker muted text for descriptions */
            --accent-dark-purple: #483D8B; /* Dark Slate Blue - main accent */
            --accent-light-purple: #6A5ACD; /* Medium Slate Blue - hover/highlight */
            --border-color: #333333;
            --price-color: var(--accent-light-purple); /* Changed from bright green to light purple */
            --error-color: #FF0000; /* Red for errors */
            --button-color: #555555; /* Dark button background */
            --button-hover-color: #777777; /* Lighter button on hover */
            --live-red: #FF0000; /* For pulsing live indicator */
            --star-filled: gold; /* Color for filled stars */
            --star-empty: var(--text-muted); /* Color for empty stars */
        }

        /* --- Global Styles --- */
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-darkest);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px 80px; /* Padding for content, leaving space for fixed footer */
            box-sizing: border-box;
        }

        /* --- Main Header --- */
        #main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 100;
            background-color: rgba(0, 0, 0, 0.9);
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            box-sizing: border-box;
        }

        #site-title {
            font-family: 'Bebas Neue', sans-serif;
            color: var(--accent-dark-purple);
            font-size: 2em;
            letter-spacing: 1px;
            margin: 0;
            line-height: 1;
            flex-shrink: 0;
        }

        #header-spacer {
            height: 60px; /* Matching header height */
        }

        /* --- Resources & Live Icons in Header --- */
        .header-icons-group {
            display: flex;
            align-items: center;
            gap: 15px; /* Spacing between the two icon groups */
            margin-left: auto; /* Push to the right */
        }

        .header-icon-link {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--text-light);
            text-decoration: none;
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .header-icon-link:hover {
            color: var(--accent-light-purple);
        }

        .header-icon-link .material-icons {
            font-size: 24px;
            color: var(--text-light);
            transition: color 0.3s ease;
        }

        .header-icon-link:hover .material-icons {
            color: var(--accent-light-purple);
        }

        /* Live Indicator */
        .live-indicator {
            width: 8px;
            height: 8px;
            background-color: var(--live-red);
            border-radius: 50%;
            display: inline-block;
            margin-left: 5px;
            position: relative;
            animation: pulse-red 1.5s infinite ease-out;
        }

        @keyframes pulse-red {
            0% { transform: scale(0.8); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(0.8); opacity: 0.7; }
        }

        /* --- Fixed Bottom Navigation --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #000000;
            border-top: none;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 100;
            box-shadow: none;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            padding: 5px 0;
            color: var(--text-muted); /* Default for all nav items */
            text-decoration: none;
            font-size: 0.75em;
            transition: color 0.3s ease;
            white-space: nowrap;
        }

        .nav-item .material-icons {
            font-size: 28px;
            margin-bottom: 4px;
            color: var(--text-muted); /* Default for all nav icons */
            transition: color 0.3s ease;
        }

        /* Hover states */
        .nav-item:hover {
            color: var(--text-light);
        }

        .nav-item:hover .material-icons {
            color: var(--text-light);
        }

        /* --- CSS for "no matter what" highlighting based on unique body class --- */
        /* IMPORTANT: You need to copy and paste these blocks into the <style> section of *every* HTML file in your project.
           Each block should correspond to the 'body' class of that specific page. */

        /* Home Page - Only active when body has 'page-home' class */
        body.page-home .bottom-nav .nav-item[href="index.html"] {
            color: var(--accent-dark-purple);
            font-weight: 600;
        }
        body.page-home .bottom-nav .nav-item[href="index.html"] .material-icons {
            color: var(--accent-dark-purple);
        }

        /* Shop Page - Only active when body has 'page-shop' class */
        body.page-shop .bottom-nav .nav-item[href="shop.html"] {
            color: var(--accent-dark-purple);
            font-weight: 600;
        }
        body.page-shop .bottom-nav .nav-item[href="shop.html"] .material-icons {
            color: var(--accent-dark-purple);
        }

        /* Legal Page - Only active when body has 'page-legal' class */
        body.page-legal .bottom-nav .nav-item[href="legal.html"] {
            color: var(--accent-dark-purple);
            font-weight: 600;
        }
        body.page-legal .bottom-nav .nav-item[href="legal.html"] .material-icons {
            color: var(--accent-dark-purple);
        }

        /* Help Page - Only active when body has 'page-help' class */
        body.page-help .bottom-nav .nav-item[href="help.html"] {
            color: var(--accent-dark-purple);
            font-weight: 600;
        }
        body.page-help .bottom-nav .nav-item[href="help.html"] .material-icons {
            color: var(--accent-dark-purple);
        }

        /* Skill Learning Page */
        body.page-skill-learning .header-icon-link#openResourcesMenuModalLink {
            color: var(--accent-dark-purple);
        }
        body.page-skill-learning .header-icon-link#openResourcesMenuModalLink .material-icons {
            color: var(--accent-dark-purple);
        }
        body.page-skill-learning #resourcesMenuModal a[href="skill-learning.html"] {
            background-color: var(--accent-dark-purple);
            color: white;
            font-weight: 600;
        }
        body.page-skill-learning #resourcesMenuModal a[href="skill-learning.html"] .material-icons {
            color: white;
        }

        /* Reviews Page - New page! */
        body.page-reviews .header-icon-link#openResourcesMenuModalLink {
            color: var(--accent-dark-purple);
        }
        body.page-reviews .header-icon-link#openResourcesMenuModalLink .material-icons {
            color: var(--accent-dark-purple);
        }
        body.page-reviews #resourcesMenuModal a[href="reviews.html"] { /* Ensure this href matches your review page link */
            background-color: var(--accent-dark-purple);
            color: white;
            font-weight: 600;
        }
        body.page-reviews #resourcesMenuModal a[href="reviews.html"] .material-icons {
            color: white;
        }


        /* Special styling for the plus icon (Add) */
        .bottom-nav .nav-item.register-nav-item .material-icons {
            font-size: 36px;
            color: var(--text-muted);
        }

        /* --- Global Modal Styles (reused for Resources Menu Modal, Add/Create, Contact Form, Paystack, Review Form) --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.show-modal {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--bg-card);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.7);
            width: 90%;
            max-width: 500px;
            position: relative;
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-overlay.show-modal .modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        .modal-content h2 {
            font-family: 'Montserrat', sans-serif;
            color: var(--text-light);
            font-size: 1.8em;
            margin-top: 0;
            margin-bottom: 25px;
            text-align: center;
        }

        .modal-content .close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            color: var(--text-muted);
            font-size: 28px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .modal-content .close-button:hover {
            color: var(--text-light);
        }

        /* --- Resources Menu Modal Specific Styles --- */
        #resourcesMenuModal h2 {
            color: var(--accent-light-purple);
            text-shadow: 0 0 10px rgba(106, 90, 205, 0.4);
            margin-bottom: 20px;
        }

        .resources-menu-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .resources-menu-options a {
            display: block;
            background-color: var(--bg-darkest);
            color: var(--text-light);
            padding: 15px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1.1em;
            font-weight: 500;
            transition: background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .resources-menu-options a:hover {
            background-color: var(--accent-dark-purple);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
        }

        .resources-menu-options a .material-icons {
            font-size: 24px;
            color: var(--accent-light-purple);
            transition: color 0.2s ease;
        }

        .resources-menu-options a:hover .material-icons {
            color: white;
        }

        /* Add/Create Modal specific styles */
#addCreateModal .add-create-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        #addCreateModal .add-create-options button {
            background-color: var(--accent-dark-purple);
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 100%;
            box-sizing: border-box;
        }

        #addCreateModal .add-create-options button:hover {
            background-color: var(--accent-light-purple);
            transform: translateY(-2px);
        }        

        /* Contact Form Modal Styles */
        #contactFormModal h2 {
            color: var(--accent-light-purple);
            text-shadow: 0 0 10px rgba(106, 90, 205, 0.4);
            margin-bottom: 20px;
        }
        .contact-form label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9em;
            color: var(--text-light);
            font-weight: 500;
        }
        .contact-form input[type="text"],
        .contact-form input[type="email"],
        .contact-form textarea {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--bg-darkest);
            color: var(--text-light);
            font-family: 'Roboto', sans-serif;
            font-size: 1em;
            box-sizing: border-box;
        }
        .contact-form input[type="text"]:focus,
        .contact-form input[type="email"]:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--accent-light-purple);
            box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.5);
        }
        .contact-form textarea {
            resize: vertical;
            min-height: 120px;
        }
        .contact-form input::placeholder,
        .contact-form textarea::placeholder {
            color: var(--text-muted);
            opacity: 0.7;
        }
        .contact-form button[type="submit"] {
            background-color: var(--accent-dark-purple);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 100%;
            box-sizing: border-box;
            margin-top: 10px;
        }
        .contact-form button[type="submit"]:hover {
            background-color: var(--accent-light-purple);
            transform: translateY(-2px);
        }
        .contact-form .mail-note {
            font-size: 0.85em;
            color: var(--text-muted);
            text-align: center;
            margin-top: 15px;
        }

        /* --- Skill Learning Page Specific Styles --- */
        .page-title {
            font-family: 'Montserrat', sans-serif;
            color: var(--text-light);
            text-align: center;
            margin-top: 30px;
            margin-bottom: 40px;
            font-size: 2.5em;
        }

        .page-subtitle {
            text-align: center;
            color: var(--text-muted);
            font-size: 1.1em;
            margin-bottom: 50px;
        }

        .skill-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            padding-bottom: 50px;
        }

        .skill-card {
            background-color: var(--bg-card);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .skill-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.6);
        }

        .skill-card h3 {
            font-family: 'Montserrat', sans-serif;
            color: var(--accent-light-purple);
            font-size: 1.6em;
            margin-top: 0;
            margin-bottom: 15px;
            text-align: center;
            text-shadow: 0 0 8px rgba(106, 90, 205, 0.3);
        }

        .skill-card .skill-description {
            font-size: 0.95em;
            color: var(--text-light);
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .skill-card .skill-price {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.2em;
            color: var(--accent-light-purple);
            text-align: center;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        .skill-card .buy-button {
            display: block;
            width: 100%;
            padding: 12px 0;
            background-color: var(--accent-dark-purple);
            color: white;
            text-align: center;
            text-decoration: none;
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .skill-card .buy-button:hover {
            background-color: var(--accent-light-purple);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        /* --- Paystack Payment Modal Specific Styles --- */
        #paystackPaymentModal .modal-content {
            max-width: 450px;
            padding: 40px 30px;
        }

        #paystackPaymentModal h2 {
            color: var(--accent-light-purple);
            text-shadow: 0 0 10px rgba(106, 90, 205, 0.3);
            font-size: 2em;
            margin-bottom: 20px;
        }

        #paystackPaymentModal p {
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.1em;
            color: var(--text-light);
        }

        #paystackPaymentModal .paystack-form label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.95em;
            color: var(--text-light);
            font-weight: 500;
        }

        #paystackPaymentModal .paystack-form input[type="email"],
        #paystackPaymentModal .paystack-form input[type="text"] {
            width: calc(100% - 20px);
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--bg-darkest);
            color: var(--text-light);
            font-family: 'Roboto', sans-serif;
            font-size: 1em;
            box-sizing: border-box;
        }

        #paystackPaymentModal .paystack-form input:focus {
            outline: none;
            border-color: var(--accent-light-purple);
            box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.5);
        }

        #paystackPaymentModal .paystack-form button[type="submit"] {
            background-color: var(--accent-dark-purple);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 4px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 100%;
            box-sizing: border-box;
            margin-top: 10px;
        }

        #paystackPaymentModal .paystack-form button[type="submit"]:hover {
            background-color: var(--accent-light-purple);
            transform: translateY(-2px);
        }

        #paystackPaymentModal .price-display {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.5em;
            color: var(--accent-light-purple);
            text-align: center;
            margin-bottom: 25px;
            letter-spacing: 1px;
        }

        #paystackPaymentModal #selectedSkillName {
            font-size: 1.2em;
            color: var(--accent-light-purple);
            text-align: center;
            margin-bottom: 15px;
            font-weight: 600;
        }


        /* --- NEW: Reviews Page Specific Styles --- */
        .review-button-container {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 30px; /* Reduced margin to make space for filter buttons */
        }

        .write-review-button {
            background-color: var(--accent-dark-purple);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px; /* Pill shape */
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .write-review-button:hover {
            background-color: var(--accent-light-purple);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        /* Review Filter Buttons Styling */
        #review-filter-buttons {
            display: flex;
            flex-wrap: wrap; /* Allows buttons to wrap to the next line */
            gap: 10px;
            justify-content: center;
            margin-bottom: 40px;
            padding: 0 10px; /* Add some padding for smaller screens */
        }

        .review-filter-button {
            background-color: var(--bg-card); /* Darker background for chips */
            color: var(--text-light);
            border: 1px solid var(--border-color);
            border-radius: 20px; /* Pill shape for filter buttons */
            padding: 8px 18px;
            font-size: 0.95em;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
            white-space: nowrap; /* Prevent text wrapping inside buttons */
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .review-filter-button:hover {
            background-color: var(--button-hover-color);
            border-color: var(--text-light);
        }

        .review-filter-button.active {
            background-color: var(--accent-dark-purple); /* Active button color */
            border-color: var(--accent-light-purple);
            color: white;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(0,0,0,0.4);
        }

        .review-filter-button.active .material-icons {
            color: white;
        }

        .review-filter-button .material-icons {
            font-size: 1.2em; /* Adjust star size in buttons */
            color: var(--star-filled); /* Stars in buttons */
            line-height: 1; /* Align icons better */
        }

        .review-filter-button .material-icons.empty {
            color: var(--star-empty);
        }


        .review-section {
            margin-bottom: 50px;
        }

        .review-section h2 {
            font-family: 'Montserrat', sans-serif;
            color: var(--accent-light-purple);
            font-size: 2em;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            text-align: center;
        }

        .review-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .review-card {
            background-color: var(--bg-card);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.4);
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .reviewer-info {
            font-size: 1.1em;
            font-weight: 600;
            color: var(--text-light);
        }

        .review-date {
            font-size: 0.85em;
            color: var(--text-muted);
        }

        .star-rating-display {
            display: flex;
            font-size: 1.5em; /* Size of stars */
            color: var(--star-filled);
            margin-bottom: 15px;
        }

        .star-rating-display .material-icons {
            font-size: 1em; /* Ensures the icon size matches parent font-size */
        }

        .star-rating-display .empty {
            color: var(--star-empty);
        }

        .review-text {
            font-size: 1em;
            color: var(--text-light);
            margin-bottom: 15px;
            flex-grow: 1; /* Allows text to take up available space */
        }

        .reviewer-identity {
            font-size: 0.85em;
            color: var(--text-muted);
            margin-top: 10px;
            border-top: 1px dashed var(--border-color);
            padding-top: 10px;
        }

        .reviewer-identity a {
            color: var(--accent-light-purple);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .reviewer-identity a:hover {
            color: var(--text-light);
        }


        /* Review Form Modal Styles (Similar to Contact Form) */
        #reviewFormModal h2 {
            color: var(--accent-light-purple);
            text-shadow: 0 0 10px rgba(106, 90, 205, 0.4);
            margin-bottom: 20px;
        }

        .review-form label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9em;
            color: var(--text-light);
            font-weight: 500;
        }
        .review-form input[type="text"],
        .review-form input[type="email"],
        .review-form textarea {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--bg-darkest);
            color: var(--text-light);
            font-family: 'Roboto', sans-serif;
            font-size: 1em;
            box-sizing: border-box;
        }
        .review-form input[type="text"]:focus,
        .review-form input[type="email"]:focus,
        .review-form textarea:focus {
            outline: none;
            border-color: var(--accent-light-purple);
            box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.5);
        }
        .review-form textarea {
            resize: vertical;
            min-height: 100px;
        }
        .review-form input::placeholder,
        .review-form textarea::placeholder {
            color: var(--text-muted);
            opacity: 0.7;
        }

        /* Star Rating in Form */
        .rating-stars {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            direction: rtl; /* For right-to-left star selection */
        }
        .rating-stars input[type="radio"] {
            display: none;
        }
        .rating-stars label {
            font-size: 2.5em; /* Larger stars for input */
            color: var(--star-empty);
            cursor: pointer;
            padding: 0 5px;
            transition: color 0.2s ease, transform 0.2s ease;
            display: inline-block; /* to allow transform */
        }
        .rating-stars label:hover,
        .rating-stars label:hover ~ label {
            color: var(--star-filled);
            transform: scale(1.1);
        }
        .rating-stars input[type="radio"]:checked ~ label {
            color: var(--star-filled);
        }
        /* Reset transform on checked elements that are not hovered */
        .rating-stars input[type="radio"]:checked + label:hover ~ label {
            color: var(--star-filled);
            transform: scale(1.1);
        }
        .rating-stars input[type="radio"]:checked + label {
            transform: scale(1.1);
        }
        .rating-stars input[type="radio"]:checked + label:hover {
            color: var(--star-filled); /* Ensure it stays filled on hover */
            transform: scale(1.1);
        }


        .review-form button[type="submit"] {
            background-color: var(--accent-dark-purple);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 100%;
            box-sizing: border-box;
            margin-top: 10px;
        }
        .review-form button[type="submit"]:hover {
            background-color: var(--accent-light-purple);
            transform: translateY(-2px);
        }
        .review-form .mail-note {
            font-size: 0.85em;
            color: var(--text-muted);
            text-align: center;
            margin-top: 15px;
        }

        .terms-of-review-box {
            background-color: var(--bg-darkest);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            font-size: 0.9em;
            color: var(--text-muted);
            max-height: 200px;
            overflow-y: auto;
        }

        .terms-of-review-box h3 {
            color: var(--accent-light-purple);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .terms-of-review-box ul {
            list-style: disc;
            margin-left: 20px;
            padding-left: 0;
        }

        .terms-of-review-box li {
            margin-bottom: 8px;
        }
        .terms-of-review-box a {
            color: var(--accent-light-purple);
            text-decoration: underline;
        }
        .moderation-note {
            font-size: 0.9em;
            color: var(--accent-light-purple);
            text-align: center;
            margin-top: 20px;
            padding: 10px;
            background-color: rgba(72, 61, 139, 0.2); /* Dark Slate Blue with transparency */
            border-radius: 5px;
            margin-bottom: 40px; /* Adjust margin */
        }

        /* NEW: Overall Rating Styles */
        .overall-rating-summary {
            background-color: var(--bg-card);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            margin-bottom: 40px;
            display: flex;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
            gap: 20px;
            align-items: center;
            border: 1px solid var(--border-color);
        }

        .overall-rating-average {
            flex: 1; /* Takes available space */
            min-width: 200px; /* Ensures it doesn't shrink too much */
            text-align: center;
        }

        .overall-rating-average .rating-number {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 4em;
            color: var(--star-filled);
            line-height: 1;
            margin-bottom: 5px;
        }

        .overall-rating-average .stars-display {
            display: flex;
            justify-content: center;
            font-size: 1.8em;
            color: var(--star-filled);
            margin-bottom: 10px;
        }

        .overall-rating-average .stars-display .material-icons.empty {
            color: var(--star-empty);
        }

        .overall-rating-average .total-reviews-count {
            font-size: 0.9em;
            color: var(--text-muted);
        }

        .rating-breakdown {
            flex: 2; /* Takes more space than the average */
            min-width: 300px; /* Ensures it doesn't shrink too much */
        }

        .rating-bar-container {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            gap: 10px;
        }

        .rating-bar-container .star-label {
            font-weight: 500;
            color: var(--text-light);
            font-size: 0.9em;
            width: 40px; /* Fixed width for star label */
            text-align: right;
            flex-shrink: 0;
        }

        .rating-bar {
            flex-grow: 1;
            height: 10px;
            background-color: var(--bg-darkest);
            border-radius: 5px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .rating-fill {
            height: 100%;
            background-color: var(--accent-light-purple);
            border-radius: 50px;
            transition: width 0.5s ease-out;
        }

        .rating-bar-count {
            font-size: 0.85em;
            color: var(--text-muted);
            width: 50px; /* Fixed width for count */
            text-align: left;
            flex-shrink: 0;
        }


        /* --- Responsive Adjustments --- */
        @media (max-width: 768px) {
            #header-spacer {
                height: 40px;
            }
            #main-header {
                padding: 5px 10px;
            }
            #site-title {
                font-size: 1.3em;
                letter-spacing: 0.5px;
            }
            .header-icon-link {
                font-size: 0.8em;
            }
            .header-icon-link .material-icons {
                font-size: 20px;
            }
            .live-indicator {
                width: 6px;
                height: 6px;
            }
            .modal-content {
                padding: 20px;
                max-width: 95%;
            }
            .modal-content h2 {
                font-size: 1.5em;
                margin-bottom: 20px;
            }
            .resources-menu-options a {
                padding: 12px 15px;
                font-size: 1em;
            }
            .page-title {
                font-size: 2em;
            }
            .page-subtitle {
                font-size: 1em;
            }
            /* Reviews Page responsive */
            .review-section h2 {
                font-size: 1.8em;
            }
            .review-grid {
                grid-template-columns: 1fr; /* Stack cards on small screens */
                gap: 20px;
            }
            .review-card {
                padding: 20px;
            }
            .review-form .rating-stars label {
                font-size: 2em; /* Adjust star size for smaller screens */
            }
            #review-filter-buttons {
                justify-content: flex-start; /* Align left on smaller screens */
                overflow-x: auto; /* Enable horizontal scrolling */
                padding-bottom: 10px; /* Add space for scrollbar */
                white-space: nowrap; /* Keep buttons inline */
                -webkit-overflow-scrolling: touch; /* Smoother scrolling on iOS */
            }
            #review-filter-buttons::-webkit-scrollbar {
                height: 6px; /* Adjust scrollbar height */
            }
            #review-filter-buttons::-webkit-scrollbar-thumb {
                background-color: rgba(255, 255, 255, 0.2); /* Darker scrollbar */
                border-radius: 3px;
            }
            #review-filter-buttons::-webkit-scrollbar-track {
                background-color: rgba(0, 0, 0, 0.1);
            }

            /* Overall Rating responsive */
            .overall-rating-summary {
                flex-direction: column; /* Stack elements vertically */
                text-align: center;
            }

            .overall-rating-average,
            .rating-breakdown {
                min-width: unset; /* Remove min-width to allow full flexibility */
                width: 100%; /* Take full width */
            }

            .overall-rating-average .rating-number {
                font-size: 3.5em;
            }
            .overall-rating-average .stars-display {
                font-size: 1.5em;
            }
            .rating-bar-container {
                justify-content: center; /* Center align bars */
            }

            .bottom-nav .material-icons {
                font-size: 24px;
            }
            .nav-item {
                font-size: 0.65em;
            }
        }

        @media (max-width: 480px) {
            #header-spacer {
                height: 30px;
            }
            #site-title {
                font-size: 1.0em;
                letter-spacing: 0px;
            }
            .page-title {
                font-size: 1.8em;
            }
            .review-filter-button {
                padding: 6px 14px; /* Smaller padding for very small screens */
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body class="page-reviews">
    <div id="main-page-content">
        <header id="main-header">
            <h1 id="site-title">Mìlàájé</h1>
            <div class="header-icons-group">
                <a href="#" class="header-icon-link" id="openLiveLink">
                    <span style="display:none;" class="material-icons">sensors_waves</span>
                    <span>Live</span>
                    <span class="live-indicator"></span>
                </a>
                <a href="#" class="header-icon-link" id="openResourcesMenuModalLink">
                    <span class="material-icons">menu_book</span>
                    <span>Resources</span>
                </a>
            </div>
        </header>

        <div id="header-spacer"></div>

        <div class="container">
            <h1 class="page-title">User Reviews & Testimonials</h1>
            <p class="page-subtitle">Hear what our community says about their experiences with Mìlàájé and our offerings.</p>

            <div class="overall-rating-summary">
                <div class="overall-rating-average">
                    <div class="rating-number" id="overall-average-rating">0.0</div>
                    <div class="stars-display" id="overall-stars-display">
                    </div>
                    <div class="total-reviews-count" id="overall-total-reviews">0 total reviews</div>
                </div>
                <div class="rating-breakdown">
                    <div class="rating-bar-container">
                        <span class="star-label">5 <span class="material-icons" style="font-size: 0.8em;">star</span></span>
                        <div class="rating-bar"><div class="rating-fill" id="fill-5-star" style="width: 0%;"></div></div>
                        <span class="rating-bar-count" id="count-5-star">0</span>
                    </div>
                    <div class="rating-bar-container">
                        <span class="star-label">4 <span class="material-icons" style="font-size: 0.8em;">star</span></span>
                        <div class="rating-bar"><div class="rating-fill" id="fill-4-star" style="width: 0%;"></div></div>
                        <span class="rating-bar-count" id="count-4-star">0</span>
                    </div>
                    <div class="rating-bar-container">
                        <span class="star-label">3 <span class="material-icons" style="font-size: 0.8em;">star</span></span>
                        <div class="rating-bar"><div class="rating-fill" id="fill-3-star" style="width: 0%;"></div></div>
                        <span class="rating-bar-count" id="count-3-star">0</span>
                    </div>
                    <div class="rating-bar-container">
                        <span class="star-label">2 <span class="material-icons" style="font-size: 0.8em;">star</span></span>
                        <div class="rating-bar"><div class="rating-fill" id="fill-2-star" style="width: 0%;"></div></div>
                        <span class="rating-bar-count" id="count-2-star">0</span>
                    </div>
                    <div class="rating-bar-container">
                        <span class="star-label">1 <span class="material-icons" style="font-size: 0.8em;">star</span></span>
                        <div class="rating-bar"><div class="rating-fill" id="fill-1-star" style="width: 0%;"></div></div>
                        <span class="rating-bar-count" id="count-1-star">0</span>
                    </div>
                </div>
            </div>
            <div class="review-button-container">
                <button class="write-review-button" id="openReviewFormButton">Write a Review</button>
            </div>

            <div class="moderation-note">
                Reviews will not display on the site immediately. We moderate them first, but we will not change the content or rating, whether positive or negative.
            </div>

            <div id="review-filter-buttons">
                <button class="review-filter-button active" data-rating="all">
                    All Reviews
                </button>
                <button class="review-filter-button" data-rating="5">
                    5 <span class="material-icons">star</span>
                </button>
                <button class="review-filter-button" data-rating="4">
                    4 <span class="material-icons">star</span>
                </button>
                <button class="review-filter-button" data-rating="3">
                    3 <span class="material-icons">star</span>
                </button>
                <button class="review-filter-button" data-rating="2">
                    2 <span class="material-icons">star</span>
                </button>
                <button class="review-filter-button" data-rating="1">
                    1 <span class="material-icons">star</span>
                </button>
            </div>

            <div class="review-sections-container">
                <div class="review-section all-reviews" id="all-reviews-section">
                    <h2>All Reviews</h2> <div class="review-grid" id="all-reviews-grid">
                        </div>
                </div>
                </div>
        </div>

        <div class="bottom-nav">
            <a href="index.html" class="nav-item">
                <span class="material-icons">home</span>
                <span>Home</span>
            </a>
            <a href="shop.html" class="nav-item">
                <span class="material-icons">storefront</span>
                <span>Shop</span>
            </a>
            <a href="#" class="nav-item register-nav-item" id="openAddCreateModalLink">
                <span class="material-icons">add_circle</span>
                <span>Add</span>
            </a>
            <a href="legal.html" class="nav-item">
                <span class="material-icons">policy</span>
                <span>Legal</span>
            </a>
            <a href="help.html" class="nav-item">
                <span class="material-icons">help_outline</span>
                <span>Help</span>
            </a>
        </div>
    </div>

    <div id="resourcesMenuModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button material-icons">close</span>
            <h2>Resources</h2>
            <div class="resources-menu-options">
                <a href="resources-all.html">
                    <span class="material-icons">article</span> Article, Blog, News
                </a>
                <a href="coming-out-stories.html">
                    <span class="material-icons">volunteer_activism</span> Coming Out Stories
                </a>
                <a href="skill-learning.html"> <span class="material-icons">settings</span> Skill Learning
                </a>
                <a href="reviews.html"> <span class="material-icons">rate_review</span> Feedbacks & Ratings
                </a>
            </div>
        </div>
    </div>

    <div id="addCreateModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button material-icons">close</span>
            <h2>Add</h2>
            <div class="add-create-options">
                <a href="add-product.html"><button>Add a Product</button></a>
                <a href="submit-book.html"><button>Submit a Book</button></a>
                <a href="submit-movie.html"><button>Submit a Movie</button></a>
                <a href="volunteer.html"><button>Volunteer & Donate</button></a>
                <a style="display: none;" href="create-card.html" id="createGayCardLink"><button>Create Your Gay Card</button></a>
            </div>
        </div>
    </div>

    <div id="contactFormModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button material-icons">close</span>
            <h2>Contact Us</h2>
            <form id="contactForm" class="contact-form">
                <label for="contactName">Your Name:</label>
                <input type="text" id="contactName" placeholder="Enter your name" required>
                <label for="contactEmail">Your Email:</label>
                <input type="email" id="contactEmail" placeholder="Enter your email" required>
                <label for="contactSubject">Subject:</label>
                <input type="text" id="contactSubject" placeholder="Subject of your inquiry" required>
                <label for="contactMessage">Message:</label>
                <textarea id="contactMessage" placeholder="Type your message here..." required></textarea>
                <button type="submit">Send Email</button>
                <p class="mail-note"> * Clicking 'Send Email' will open your default email client with your message pre-filled. You will need to click 'Send' again in your email client. </p>
            </form>
        </div>
    </div>

    <div id="paystackPaymentModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button material-icons" id="closePaystackModalButton">close</span>
            <h2>Complete Your Purchase</h2>
            <p id="selectedSkillName"></p>
            <div class="price-display">₦<span id="paystackDisplayPrice">0.00</span></div>
            <p style="font-size: 0.9em; color: var(--text-muted); margin-bottom: 20px;">
                * You will receive your purchased file (PDF/Video) via email. Delivery is usually immediate, but may take up to 24 hours.
            </p>
            <form id="paystackForm" class="paystack-form">
                <label for="customerEmail">Your Email:</label>
                <input type="email" id="customerEmail" placeholder="Enter your email to receive the file" required>
                <input type="hidden" id="hiddenSkillName" name="Skill Name">
                <button type="submit" id="paystackButton">Pay Now</button>
            </form>
        </div>
    </div>

    <div id="reviewFormModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button material-icons">close</span>
            <h2>Submit Your Review</h2>
            <form id="reviewForm" class="review-form">
                <label for="reviewerName">Your Name:</label>
                <input type="text" id="reviewerName" placeholder="e.g., John D." required>

                <label for="reviewDate">Date Posted:</label>
                <input type="text" id="reviewDate" value="" readonly> <label>Your Rating:</label>
                <div class="rating-stars">
                    <input type="radio" id="star5" name="rating" value="5" required><label for="star5" class="material-icons">star</label>
                    <input type="radio" id="star4" name="rating" value="4"><label for="star4" class="material-icons">star</label>
                    <input type="radio" id="star3" name="rating" value="3"><label for="star3" class="material-icons">star</label>
                    <input type="radio" id="star2" name="rating" value="2"><label for="star2" class="material-icons">star</label>
                    <input type="radio" id="star1" name="rating" value="1"><label for="star1" class="material-icons">star</label>
                </div>

                <label for="reviewText">Your Review:</label>
                <textarea id="reviewText" placeholder="Share your experience..." rows="5" required></textarea>

                <label for="socialMedia">Social Media / Identity (Optional):</label>
                <input type="text" id="socialMedia" placeholder="e.g., @yourhandle (Twitter), yourlinkedin.com/in/profile, or just enter 'Email Verified'">
                <small style="color: var(--text-muted); display: block; margin-top: -10px; margin-bottom: 15px;">(This helps us verify you are not a robot, and gives credibility to your review. Your social media will only be displayed if you explicitly provide it.)</small>

                <div class="terms-of-review-box">
                    <h3>Terms of Review Submission</h3>
                    <ul>
                        <li>By submitting a review, you agree that your review and provided name (or chosen identifier) may be published on our website.</li>
                        <li>All reviews are subject to moderation and will not appear immediately. We reserve the right to reject reviews that are offensive, spam, contain hate speech, or are irrelevant to our services.</li>
                        <li>We will not alter the content or star rating of your review, whether it's positive or negative.</li>
                        <li>You confirm that the review is your original content and reflects your genuine experience.</li>
                        <li>Providing a social media link or other means of identity is optional but helps verify the authenticity of your review. If provided, it may be linked/displayed.</li>
                        <li>Your email address used for submission will not be publicly displayed but is required for verification purposes.</li>
                        <li>We may contact you regarding your review for clarification or follow-up.</li>
                        <li>We reserve the right to remove reviews at any time if they violate these terms.</li>
                    </ul>
                    <label for="agreeTerms">
                        <input type="checkbox" id="agreeTerms" required> I agree to the Terms of Review.
                    </label>
                </div>

                <button type="submit">Submit Review</button>
                <p class="mail-note"> * Clicking 'Submit Review' will open your default email client with your review pre-filled. You will need to click 'Send' again in your email client to send it for moderation. </p>
            </form>
        </div>
    </div>


    <script>
        // --- Global Variables for Paystack ---
        const PAYSTACK_PUBLIC_KEY = 'YOUR_PAYSTACK_PUBLIC_KEY'; // REPLACE THIS with your actual Paystack Public Key
        const FORMSPREE_FORM_ID = 'YOUR_FORMSPREE_FORM_ID'; // REPLACE THIS with your actual Formspree Form ID for general form submissions

        let currentSkillName = ''; // To store the name of the skill being purchased
        let currentSkillPrice = 0; // To store the price of the skill being purchased

        // --- Modal & General UI Logic (Common functions) ---
        function showModal(modalElement) {
            modalElement.classList.add('show-modal');
            document.body.style.overflow = 'hidden'; // Prevent scrolling background
        }

        function hideModal(modalElement) {
            modalElement.classList.remove('show-modal');
            document.body.style.overflow = ''; // Restore scrolling background
        }

        // --- Paystack Integration Functions (Keep existing as they are) ---

        // Handles successful payment and then sends data to Formspree
        async function handlePaystackSuccess(response) {
            console.log('Paystack Success:', response);

            // Construct data for Formspree
            const formData = {
                _subject: `Skill Purchase: ${currentSkillName}`,
                'Email': response.customer.email,
                'Skill Name': currentSkillName,
                'Amount Paid (NGN)': currentSkillPrice, // Use the actual NGN value
                'Transaction Reference': response.reference,
                'Payment Channel': 'Paystack',
                'Status': 'Payment Confirmed - Pending Delivery'
            };

            // Send data to Formspree (using general Formspree ID)
            try {
                const formspreeResponse = await fetch(`https://formspree.io/f/${FORMSPREE_FORM_ID}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                if (formspreeResponse.ok) {
                    console.log('Formspree submission successful!');
                    alert('Payment successful! You will receive your file via email shortly (usually immediate, up to 24 hours).');
                } else {
                    console.error('Formspree submission failed:', formspreeResponse.status, formspreeResponse.statusText);
                    alert('Payment successful, but there was an issue processing your order details. Please contact support with your transaction reference: ' + response.reference);
                }
            } catch (error) {
                console.error('Error submitting to Formspree:', error);
                alert('Payment successful, but there was an issue processing your order details. Please contact support with your transaction reference: ' + response.reference);
            } finally {
                hideModal(paystackPaymentModal); // Hide Paystack modal
            }
        }

        // Handles when Paystack popup is closed without completing payment
        function handlePaystackClose() {
            console.log('Paystack closed without payment.');
            alert('Payment cancelled. You can try again anytime!');
            hideModal(paystackPaymentModal); // Hide Paystack modal
        }

        // Initialize Paystack popup
        function initializePaystackPop(email, amount, skillName) {
            currentSkillName = skillName; // Store the skill name globally
            currentSkillPrice = amount; // Store the NGN price globally

            const handler = PaystackPop.setup({
                key: PAYSTACK_PUBLIC_KEY, // Replace with your public key
                email: email,
                amount: amount * 100, // Amount in kobo
                ref: ''+Math.floor((Math.random() * 1000000000) + 1), // Generate a random transaction reference
                currency: 'NGN', // Explicitly set to NGN
                metadata: {
                    custom_fields: [
                        {
                            display_name: "Skill Name",
                            variable_name: "skill_name",
                            value: skillName
                        },
                        {
                            display_name: "Skill Price",
                            variable_name: "skill_price",
                            value: amount
                        }
                    ]
                },
                callback: function(response){
                    handlePaystackSuccess(response);
                },
                onClose: function(){
                    handlePaystackClose();
                }
            });
            handler.openIframe(); // Open the Paystack checkout popup
        }


        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            const currentPagePath = window.location.pathname;
            const currentPageFileName = currentPagePath.split('/').pop();

            // --- Active state for bottom navigation (JavaScript-driven) ---
            const bottomNavItems = document.querySelectorAll('.bottom-nav .nav-item');
            bottomNavItems.forEach(item => {
                item.classList.remove('active');
                const itemHref = item.getAttribute('href');
                if (itemHref === currentPageFileName) {
                    item.classList.add('active');
                }
            });

            // --- Modals and their buttons ---
            const resourcesMenuModal = document.getElementById('resourcesMenuModal');
            const resourcesMenuCloseButton = resourcesMenuModal.querySelector('.close-button');
            const openResourcesMenuModalLink = document.getElementById('openResourcesMenuModalLink');

            const addCreateModal = document.getElementById('addCreateModal');
            const addCreateModalCloseButton = addCreateModal.querySelector('.close-button');
            const openAddCreateModalLink = document.getElementById('openAddCreateModalLink');

            const contactFormModal = document.getElementById('contactFormModal');
            const contactFormCloseButton = contactFormModal.querySelector('.close-button');

            const paystackPaymentModal = document.getElementById('paystackPaymentModal');
            const closePaystackModalButton = document.getElementById('closePaystackModalButton');
            const paystackForm = document.getElementById('paystackForm');
            const customerEmailInput = document.getElementById('customerEmail');
            const hiddenSkillNameInput = document.getElementById('hiddenSkillName');
            const paystackDisplayPrice = document.getElementById('paystackDisplayPrice');


            // Listeners for Resources Menu Modal (Header)
            if (openResourcesMenuModalLink) {
                openResourcesMenuModalLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(resourcesMenuModal);
                });
            }
            if (resourcesMenuCloseButton) {
                resourcesMenuCloseButton.addEventListener('click', () => {
                    hideModal(resourcesMenuModal);
                });
            }
            if (resourcesMenuModal) {
                resourcesMenuModal.addEventListener('click', (e) => {
                    if (e.target === resourcesMenuModal) {
                        hideModal(resourcesMenuModal);
                    }
                });
            }

            // Listeners for Add/Create Modal (Bottom Nav "Add" button)
            if (openAddCreateModalLink) {
                openAddCreateModalLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(addCreateModal);
                });
            }
            if (addCreateModalCloseButton) {
                addCreateModalCloseButton.addEventListener('click', () => {
                    hideModal(addCreateModal);
                });
            }
            if (addCreateModal) {
                addCreateModal.addEventListener('click', (e) => {
                    if (e.target === addCreateModal) {
                        hideModal(addCreateModal);
                    }
                });
            }

            // "Live" link functionality (placeholder for now)
            const openLiveLink = document.getElementById('openLiveLink');
            if (openLiveLink) {
                openLiveLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    alert('Navigating to Live Content! (This link is a placeholder)');
                });
            }

            // Contact Form Submission (opens email client)
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const name = document.getElementById('contactName').value;
                    const email = document.getElementById('contactEmail').value;
                    const subject = document.getElementById('contactSubject').value;
                    const message = document.getElementById('contactMessage').value;
                    const mailtoLink = `mailto:iceconsort@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`)}`;
                    window.location.href = mailtoLink;
                    hideModal(contactFormModal); // Hide modal after initiating mailto
                    contactForm.reset(); // Clear the form
                });
            }

            // Paystack Payment Logic
            const buyButtons = document.querySelectorAll('.buy-button');
            const selectedSkillNameDisplay = document.getElementById('selectedSkillName');

            buyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const skillName = button.dataset.skillName;
                    const skillPrice = parseFloat(button.dataset.skillPrice);

                    currentSkillName = skillName;
                    currentSkillPrice = skillPrice;

                    selectedSkillNameDisplay.textContent = skillName;
                    paystackDisplayPrice.textContent = skillPrice.toFixed(2);
                    hiddenSkillNameInput.value = skillName;

                    showModal(paystackPaymentModal);
                });
            });

            if (closePaystackModalButton) {
                closePaystackModalButton.addEventListener('click', () => {
                    hideModal(paystackPaymentModal);
                });
            }

            if (paystackPaymentModal) {
                paystackPaymentModal.addEventListener('click', (e) => {
                    if (e.target === paystackPaymentModal) {
                        hideModal(paystackPaymentModal);
                    }
                });
            }

            if (paystackForm) {
                paystackForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = customerEmailInput.value;

                    if (!PAYSTACK_PUBLIC_KEY || PAYSTACK_PUBLIC_KEY === 'YOUR_PAYSTACK_PUBLIC_KEY') {
                        alert('Paystack Public Key is not configured. Please replace "YOUR_PAYSTACK_PUBLIC_KEY" in the JavaScript.');
                        return;
                    }
                    if (!FORMSPREE_FORM_ID || FORMSPREE_FORM_ID === 'YOUR_FORMSPREE_FORM_ID') {
                        alert('Formspree Form ID is not configured. Please replace "YOUR_FORMSPREE_FORM_ID" in the JavaScript.');
                        return;
                    }

                    initializePaystackPop(email, currentSkillPrice, currentSkillName);
                });
            }

            // Set the correct body class for highlighting active menu item
            document.body.className = 'page-reviews';
        });
    </script>
    <script src="reviews.js"></script> </body>
</html>
