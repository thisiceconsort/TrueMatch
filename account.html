<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Verification Card Request</title>
    <link rel="stylesheet" href="https://thisiceconsort.github.io/thisiceconsort/index.css">
</head>
<body>

<form id="requestForm" enctype="multipart/form-data" method="POST">
  <h2>Request Your Verification Card</h2>

  <label for="name">Full Name *</label>
  <input type="text" id="name" name="name" required placeholder="Your full name" />

  <label for="age">Age *</label>
  <input type="number" id="age" name="age" required placeholder="Your age" min="18" max="100" />

  <label for="boytype">Boytype *</label>
  <select id="boytype" name="boytype" required>
    <option value="" disabled selected>Select boytype</option>
    <option value="twink">Twink</option>
    <option value="bear">Bear</option>
    <option value="otter">Otter</option>
    <option value="jock">Jock</option>
    <option value="daddy">Daddy</option>
    <option value="other">Other</option>
  </select>

  <label for="height">Height (cm) *</label>
  <input type="number" id="height" name="height" required placeholder="Your height in cm" min="100" max="250" />

  <label for="role">Role *</label>
  <select id="role" name="role" required>
    <option value="" disabled selected>Select role</option>
    <option value="top">Top</option>
    <option value="bottom">Bottom</option>
    <option value="versatile">Versatile</option>
  </select>

  <label for="country">Country *</label>
  <input type="text" id="country" name="country" required placeholder="Your country" />

  <label for="state">State/Region *</label>
  <input type="text" id="state" name="state" required placeholder="Your state or region" />

  <label for="city">Local Goverment Area *</label>
  <input type="text" id="city" name="city" required placeholder="Your city" />

  <label for="Email">Gmail Address*</label>
  <input type="text" id="Email" name="Email" required placeholder="Yourmail@gmail.com" />

  <label for="phone">Phone Number / WhatsApp *</label>
  <input type="tel" id="phone" name="phone" required placeholder="+1234567890" />

  <button type="submit">Request Card</button>
  <div id="formResponse"></div>
</form>

<script src="https://js.paystack.co/v1/inline.js"></script>
<script>
  const form = document.getElementById("requestForm");
  const formResponse = document.getElementById("formResponse");
  const formspreeURL = "https://formspree.io/f/xovdrlby";

  form.addEventListener("submit", function(e) {
    e.preventDefault();
    formResponse.textContent = "";

    const formData = {
      name: form.name.value.trim(),
      age: form.age.value,
      boytype: form.boytype.value,
      height: form.height.value,
      role: form.role.value,
      country: form.country.value.trim(),
      state: form.state.value.trim(),
      city: form.city.value.trim(),
      Email: form.Email.value.trim(),
      phone: form.phone.value.trim(),
    };

    let handler = PaystackPop.setup({
      key: 'pk_live_6b671064b6a716c1ceffe82bf20a28c317a69584',
      email: formData.Email,
      amount: 60000, // â‚¦600 in kobo
      currency: "NGN",
      callback: function(response) {
        fetch(formspreeURL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Accept": "application/json",
          },
          body: JSON.stringify(formData),
        })
        .then(res => {
          if (res.ok) {
            form.innerHTML = `
              <h2>Thank you for your request!</h2>
              <p>Your payment was successful and form submitted and your card will be ready in 24hours. NOTE:Do Not Fill The Form Again!</p>
              <a href="https://t.me/+SH0obsiO2z1mYzg0" class="join-btn" target="_blank" rel="noopener noreferrer">Join the Club</a>
            `;
          } else {
            formResponse.textContent = "Form submission failed. Please contact support.";
          }
        })
        .catch(() => {
          formResponse.textContent = "Network error. Please try again.";
        });
      },
      onClose: function() {
        formResponse.textContent = "Payment cancelled.";
      }
    });
    handler.openIframe();
  });
</script>

</body>
</html>
